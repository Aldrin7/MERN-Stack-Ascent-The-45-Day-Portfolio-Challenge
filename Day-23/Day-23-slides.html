<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 23: Advanced State Management - Interactive Slides</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            overflow: hidden;
        }

        .slide-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 40px;
            position: relative;
            min-height: 500px;
        }

        .slide {
            display: none;
            text-align: center;
        }

        .slide.active {
            display: block;
        }

        .slide-title {
            font-size: 2.5rem;
            color: #667eea;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .slide-content {
            font-size: 1.3rem;
            line-height: 1.6;
            color: #333;
        }

        .code-block {
            background: #f8f9fa;
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Monaco', monospace;
            text-align: left;
            font-size: 1rem;
        }

        .highlight {
            color: #667eea;
            font-weight: 600;
        }

        .navigation {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
        }

        .nav-btn {
            padding: 12px 24px;
            border: 3px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .nav-btn:hover:not(:disabled) {
            background: #667eea;
            color: white;
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .slide-counter {
            font-size: 18px;
            font-weight: 600;
            color: #667eea;
            margin: 0 20px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .feature-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
        }

        .feature-description {
            color: #666;
            font-size: 0.95rem;
        }

        .demo-section {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            font-family: 'Monaco', monospace;
        }

        .success-banner {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 30px 0;
        }
    </style>
</head>
<body>
    <div class="slide-container">
        <div id="slides"></div>
    </div>

    <div class="navigation">
        <button class="nav-btn" id="prevBtn">‚Üê Previous</button>
        <span class="slide-counter" id="slideCounter">1 / 6</span>
        <button class="nav-btn" id="nextBtn">Next ‚Üí</button>
    </div>

    <script>
        const slides = [
            {
                title: "Day 23: useEffect and Data Fetching",
                content: `
                    <h2>Connect React to Your Express API!</h2>
                    <p>Welcome to data fetching with React! Today you'll learn to connect your frontend with your Express.js backend using <span class="highlight">useEffect</span> to fetch data from your API endpoints.</p>

                    <div class="feature-grid">
                        <div class="feature-card">
                            <div class="feature-icon">üîÑ</div>
                            <div class="feature-title">useEffect</div>
                            <div class="feature-description">Fetch data when components mount and handle side effects</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üì°</div>
                            <div class="feature-title">API Integration</div>
                            <div class="feature-description">Connect React frontend to Express.js backend</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">‚è≥</div>
                            <div class="feature-title">Loading States</div>
                            <div class="feature-description">Handle async operations with proper loading indicators</div>
                        </div>
                    </div>
                `
            },
            {
                title: "useEffect for Data Fetching",
                content: `
                    <h2>Fetching Data on Component Mount</h2>
                    <p>Connect your React app to your Express API by fetching data when the component first loads using <span class="highlight">useEffect</span>.</p>

                    <div class="code-block">
// Basic data fetching pattern
const [projects, setProjects] = useState([]);
const [loading, setLoading] = useState(true);

useEffect(() => {
    // Fetch data from your Express API
    const fetchProjects = async () => {
        try {
            const response = await fetch('/api/projects');
            const result = await response.json();

            if (result.success) {
                setProjects(result.data);
            }
        } catch (error) {
            console.error('Fetch error:', error);
        } finally {
            setLoading(false);
        }
    };

    fetchProjects();
}, []); // Empty dependency array - run once on mount
                    </div>

                    <div class="demo-section">
<strong>Your API Response Format:</strong><br/>
<span style="color: #61dafb;">{</span><br/>
  <span style="color: #98c379;">"success": true,</span><br/>
  <span style="color: #98c379;">"count": 5,</span><br/>
  <span style="color: #98c379;">"data": [...],</span><br/>
  <span style="color: #98c379;">"total": 5</span><br/>
<span style="color: #61dafb;">}</span>
                    </div>

                    <p><strong>Key Points:</strong> Perfect for fetching initial data when your component loads!</p>
                `
            },
            {
                title: "Loading & Error States",
                content: `
                    <h2>Professional Data Fetching</h2>
                    <p>Handle async operations properly with loading states, error handling, and user-friendly feedback when fetching data from your API.</p>

                    <div class="code-block">
// Complete data fetching with loading & error states
const [projects, setProjects] = useState([]);
const [loading, setLoading] = useState(true);
const [error, setError] = useState(null);

const fetchProjects = async () => {
    try {
        setLoading(true);
        setError(null);

        console.log('üîó Fetching from API...');
        const response = await fetch('/api/projects');

        if (!response.ok) {
            throw new Error(\`HTTP \${response.status}: \${response.statusText}\`);
        }

        const result = await response.json();
        console.log('‚úÖ Success:', result);

        if (result.success && result.data) {
            setProjects(result.data);
        } else {
            throw new Error('API returned invalid data');
        }

    } catch (err) {
        console.error('‚ùå Error:', err);
        setError(err.message);
    } finally {
        setLoading(false);
    }
};
                    </div>

                    <div class="demo-section">
<strong>UI States:</strong><br/>
‚Ä¢ <span style="color: #ffc107;">Loading</span>: Show spinner, disable interactions<br/>
‚Ä¢ <span style="color: #28a745;">Success</span>: Display data, enable features<br/>
‚Ä¢ <span style="color: #dc3545;">Error</span>: Show message, provide retry option
                    </div>

                    <p><strong>Best Practice:</strong> Always handle all three states: Loading, Success, and Error!</p>
                `
            },
            {
                title: "Custom Hooks",
                content: `
                    <h2>Reusable Stateful Logic</h2>
                    <p><span class="highlight">Custom hooks</span> let you extract component logic into reusable functions. Build your own hooks by combining React's built-in hooks.</p>

                    <div class="code-block">
// Custom hook for counter
const useCounter = (initialValue = 0) => {
    const [count, setCount] = useState(initialValue);

    const increment = useCallback(() => setCount(c => c + 1), []);
    const decrement = useCallback(() => setCount(c => c - 1), []);
    const reset = useCallback(() => setCount(initialValue), [initialValue]);

    return { count, increment, decrement, reset };
};

// Custom hook for data fetching
const useFetch = (url) => {
    const [data, setData] = useState(null);
    const [loading, setLoading] = useState(false);

    useEffect(() => {
        const fetchData = async () => {
            setLoading(true);
            const response = await fetch(url);
            const result = await response.json();
            setData(result);
            setLoading(false);
        };

        fetchData();
    }, [url]);

    return { data, loading };
};

// Usage
function Component() {
    const counter = useCounter(0);
    const { data, loading } = useFetch('/api/data');

    return <div>...</div>;
}
                    </div>

                    <div class="demo-section">
<strong>Benefits:</strong><br/>
‚Ä¢ Reusable logic across components<br/>
‚Ä¢ Easy to test and debug<br/>
‚Ä¢ Share logic within teams<br/>
‚Ä¢ Follow the DRY principle
                    </div>
                `
            },
            {
                title: "Performance Optimization",
                content: `
                    <h2>useMemo & useCallback</h2>
                    <p>Optimize React performance with <span class="highlight">useMemo</span> and <span class="highlight">useCallback</span> to prevent unnecessary re-computations and re-renders.</p>

                    <div class="code-block">
// useMemo - Memoize expensive calculations
const expensiveValue = useMemo(() => {
    return computeExpensiveValue(a, b);
}, [a, b]); // Only recompute when a or b changes

// useCallback - Memoize functions
const handleClick = useCallback(() => {
    setCount(count + 1);
}, [count]); // Recreate only when count changes

// Optimized component
const OptimizedComponent = React.memo(({ onClick, data }) => {
    return <button onClick={onClick}>{data.value}</button>;
});
                    </div>

                    <div class="feature-grid">
                        <div class="feature-card">
                            <div class="feature-icon">‚ö°</div>
                            <div class="feature-title">useMemo</div>
                            <div class="feature-description">Memoize values to prevent expensive recalculations</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üé£</div>
                            <div class="feature-title">useCallback</div>
                            <div class="feature-description">Memoize functions to maintain reference equality</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üì¶</div>
                            <div class="feature-title">React.memo</div>
                            <div class="feature-description">Memoize components to prevent unnecessary re-renders</div>
                        </div>
                    </div>
                `
            },
            {
                title: "Best Practices & Next Steps",
                content: `
                    <h2>Mastering Advanced State</h2>

                    <div class="feature-grid">
                        <div class="feature-card">
                            <div class="feature-icon">üßπ</div>
                            <div class="feature-title">Clean Up Effects</div>
                            <div class="feature-description">Always return cleanup functions from useEffect to avoid memory leaks</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üìã</div>
                            <div class="feature-title">Complete Dependencies</div>
                            <div class="feature-description">Include all values used in useEffect in the dependency array</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üè∑Ô∏è</div>
                            <div class="feature-title">Descriptive Hook Names</div>
                            <div class="feature-description">Name custom hooks with 'use' prefix for ESLint compliance</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üîß</div>
                            <div class="feature-title">useReducer</div>
                            <div class="feature-description">For complex state logic, consider useReducer over useState</div>
                        </div>
                    </div>

                    <div class="success-banner">
                        <h3 style="margin-bottom: 10px;">üéâ Data Fetching Master!</h3>
                        <p>Tomorrow we'll explore React Router for multi-page applications and client-side routing. Get ready to build full-stack React applications!</p>
                    </div>
                `
            }
        ];

        let currentSlide = 0;

        function renderSlides() {
            const container = document.getElementById('slides');
            container.innerHTML = '';

            slides.forEach((slide, index) => {
                const slideDiv = document.createElement('div');
                slideDiv.className = `slide ${index === 0 ? 'active' : ''}`;
                slideDiv.innerHTML = `
                    <h1 class="slide-title">${slide.title}</h1>
                    <div class="slide-content">${slide.content}</div>
                `;
                container.appendChild(slideDiv);
            });
        }

        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const counter = document.getElementById('slideCounter');

            counter.textContent = `${currentSlide + 1} / ${slides.length}`;
            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === slides.length - 1;
        }

        function showSlide(index) {
            const allSlides = document.querySelectorAll('.slide');
            allSlides.forEach(slide => slide.classList.remove('active'));
            allSlides[index].classList.add('active');
            currentSlide = index;
            updateNavigation();
        }

        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                showSlide(currentSlide + 1);
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                showSlide(currentSlide - 1);
            }
        }

        // Event listeners
        document.getElementById('nextBtn').addEventListener('click', nextSlide);
        document.getElementById('prevBtn').addEventListener('click', prevSlide);

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                prevSlide();
            }
        });

        // Initialize
        renderSlides();
        updateNavigation();
    </script>
</body>
</html>
